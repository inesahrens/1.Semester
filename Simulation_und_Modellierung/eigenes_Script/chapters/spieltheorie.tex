% ===========
% Spieltehorie
% ===========

\chapter{Spieltheorie}
\label{chap:spieltheorie}

\begin{bsp}[Gefangenendilemma]
	Bankräuber A und B sind verhaftet. Ohne Geständnis kriegen beide 3 Jahre haft, gesteht einer, bekommt er nur 1 Jahr, der andere 9. Falls beide gestehen bekommen beide 7 Jahre Haft
\end{bsp}

\begin{bsp}[Geschlechterkampf]
	Die Frau möchte zum Fußball Spiel, der Mann zum Helene Fischer Konzert. Sie können nicht miteinander kommunizieren und sie haben sich nicht abgesprochen, wo sie sich treffen. Beide wollen sich am liebsten treffen. 
\end{bsp}

\section{Spiele in Strategischer Normalform}

\begin{defi}[Spieler]
	Ein Spieler ist ein Beteiligter in einem Spiel. Er wird mit $X \in M$ bezeichnet, wobei M die Menge aller Spieler ist.  
\end{defi}

\begin{defi}[Strategie]
	Strategien sind die Handlungen, die die Spieler ausführen. Dabei bezeichnet $S_X$ die Menge der Strategien von Spieler X. 
\end{defi}

\begin{thm}
	Falls ein Spiel nur zwei Spieler $X$ und $Y$ hat, gilt 
	\begin{align*}
		S_Y=S_{-X}
	\end{align*}
\end{thm}

\begin{defi}[endliches Spiel]
	ein Spiel heißt endlich, falls jeder Spieler nur endlich viele Strategien hat. Es gilt $n_X=|S_X|$ 
\end{defi}

\begin{defi}[Menge aller Strategiepaare]
	Sei ein Spiel mit zwei Spielern $A$ und $B$ gegeben. Dann ist die Menge aller Strategiepaare $S:=S_A \times S_B$  
\end{defi}

\begin{defi}[Auszahlungsfunktion]
	\begin{align*}
		U_X: S \rightarrow \R
	\end{align*}
	beschreibt den Nutzen. 
\end{defi}

\begin{defi}[Nutzenmatrix]
	Betrachte ein zwei Spieler Spiel mit die Spielern $A$ und $B$. Sei $S_A=\{a_1, \cdots, a_{n_A}\}$ und $S_B=\{b_1, \cdots, b_{n_B}\}$. Dann wird die Nutzenmatrix $U$ definiert durch
	\begin{align*}
		U \in \R^{n_A \times n_B}, \hspace{2ex} U_{ij}:=\left( U_{ij}^A, U_{ij}^B \right), \hspace{2ex} i \in \{ 1,\dots, n_A \} \hspace{1ex} j \in \{ 1, \dots, n_B\}
	\end{align*} 
	wobei $U_{ij}^A:=U_A(a_j,b_j)$ mit der Nutzenfunktion $U_A$.  
\end{defi}
\begin{noti}
	A ist der Zeilenspieler und B ist der Spaltenspieler. 
\end{noti}

\begin{bsp}[Gefangenendilemma]
	Die Spieler sind die Gefangenen A und B. Die Strategien sind Schweigen und Gestehen, also $S_A=S_B=\{S,G\}$. Die Auszahlungsfunktionen werden definiert durch
	\begin{align*}
	& 	U_A:S \rightarrow \R \\
	& 	\begin{array}{ll}
			U_A(S,S)= -3 & U_A(S,G)=-9 \\
			U_A(G,S)= -1 & U_A(G,G)=-7 \\ 
		\end{array}
	\end{align*}
	$U_B$ analog, nur gespiegelt an der Diagonalen. Dadurch ergibt sich eine Nutzenmatrix
	\begin{align*}
		U^{AB}= 
		\begin{pmatrix}
			(-7,-7) & (-1,-9) \\
			(-9,-1) & (-3,-3) 
		\end{pmatrix}
	\end{align*}
\end{bsp}

\begin{defi}[Nullsummenspiel]
	Ein Spiel mit zwei Spieler $X$ und $Y$ heißt Nullsummenspiel, falls gilt 
	\begin{align*}
		U_A(S)=-U_B(S)
	\end{align*}
\end{defi}

\begin{defi}[Strategische Normalform]
	Eine strategische Normalform ist die Darstellung eines Spiels mit Strategiemengen und Auszahlungsfunktion. 
\end{defi}

\begin{defi}[vollständige Information]
	Beiden Spielern ist die komplette Auszahlungsfunktion bekannt. 
\end{defi}

\section{Spiele ohne Annahmen über den Gegner}
Betrachten wir hier zwei Spieler Spiele, in denen B seine Entscheidungen unabhängig vom Spieler A trifft. A ist das bekannt. Es reicht, sich nur die Auszahlungsfunktion $U_A$ anzusehen. 
\begin{bsp}
	A ist eine Person mit oder ohne Regenschirm und B ist das Wetter. 
\end{bsp} 
Es gibt hier zwei Arten von Spielen: Das Spiel mit Gewissheit und das mit Risiko. 

\subsection{Spiel mit Gewissheit}
A kennt die Strategie $b_j$ von Spieler B und maximiert seinen Nutzen. Wähle
\begin{align*}
	\tilde{i} \in \{ 1, \dots n_A \} \text{ mit } U_{\tilde{i}j}=\max\limits_{1 \leq i \leq n_A} U_{ij}
\end{align*}

\subsection{Spiel mit Risiko}
A hat keine Information über die Wahl der Strategie von B. 

\subsubsection{Risikobereiter Spieler}
Zunächst wählt A das eigene Maximum und geht davon aus, dass B auch das Maximum gewählt hat. Das heißt: Wähle 
\begin{align*}
	\tilde{i} \in \{1, \dots, n_A  \} \text{ mit } \max\limits_{1 \leq j \leq n_B} U_{\tilde{i}j}=\max\limits_{1 \leq i \leq n_A} \max\limits_{1 \leq j \leq n_B} U_{ij}
\end{align*} 

\subsubsection{Vorsichtiger Spieler}
Der vorsichtige Spieler probiert den garantierten Gewinn zu maximieren. Das heißt: Wähle 
\begin{align*}
	\tilde{i} \in \{1, \dots, n_A  \} \text{ mit } \min\limits_{1 \leq j \leq n_B} U_{\tilde{i}j}=\max\limits_{1 \leq i \leq n_A} \min\limits_{1 \leq j \leq n_B} U_{ij}
\end{align*} 

\begin{bsp}[Regenschirm?]
	\begin{align*} U=
		\begin{pmatrix}
			0 & 30 \\ 10 & 10
		\end{pmatrix}
	\end{align*}
	Der vorsichtige Spieler wählt die zweite Zeile und der risikofreudige Spieler die erste Zeile. 
\end{bsp}

\section{Reaktionsabbildungen}
Beide Spieler versuchen gleichzeitig ihren Gewinn zu maximieren. Es müssen also Annahmen über den Gegner gemacht werden. Was muss man also tun, wenn man wüsste, dass der Gegner eine bestimmte Wahl $y \in S_{-X}$ trifft? 

\begin{defi}[Reaktionsabbildung]
	Eine Reaktionsabbildung $r_X$ bildet $y \in S_{-X}$  auf die Menge aller $s \in S_X$ ab, die optimal sind, wenn der andere Spieler $y$ wählt.
	\begin{align*}
		 r_X:\hspace{1ex}&  S_{-X} \rightarrow P(S_X) \\
		& y \mapsto \{\tilde{x} \in S_X | U_X(\tilde{x},y)=\max\limits_{x \in S_X} U_X(x,y)
	\end{align*}
\end{defi}

\begin{defi}[Gesamtreaktionsabbildung]
	Die Gesamtreaktionsabbildung $r$ für ein zwei Spieler Spiel bildet ein Strategiepaar $(a,b)$ auf alle Strategiepaare ab, bei denen Spieler A eine optimale Antwort auf $b$ gibt und Spieler B eine optimale Antwort auf $a$ wählt. 
	\begin{align*}
		r:  & S \rightarrow P(S) \\
			& (a,b) \mapsto r_A(b) \times r_B(a) 
	\end{align*} 
\end{defi}

In Nutzenmatrix kann man diese optimale Antwort markieren: in jeder Spalte j die $U_{ij}$ markiert, für die $a_i \in r_A(b_j)$, also die optimale Antort auf $b_j$ ist. (analog Zeile). 

\begin{bsp}
	\begin{align*}
		U^{AB} = \begin{pmatrix}
			(0,20) & (30,20) \\ (10,0) & (10,10) 
		\end{pmatrix}
	\end{align*}
	wobei$b_i$ die Spalten und $a_i$ die Spalten darstellen. Dann gilt: 
	\begin{align*}
		r_B(a_1) = \{b_1,b_2\} & r_B(a_2)= \{b_2\} \\
		r_A(b_1) = \{a_2\} & r_A(b_2) = \{a_1\}
	\end{align*} 
\end{bsp}

\section{Dominante Strategien}
Betrachte Spiele, bei denen beide Spieler gleichzeitig agieren, aber die Überlegung, die der jeweilige andere Spieler vermutlich anstellt ih ihrer Überlegung mit einbezieht. 

\paragraph*{Einfacher Fall}
Spieler X besitzt die Strategie $x$, die für alle $y \in S_{-X}$ die beste antwort ist ($x \in r_x(y)$ f.a. $y$), kann er ohne weitere Überlegung diese Strategie wählen. Diese Strategie nennt man dominante Strategie. 

\begin{bsp}[Gefangenendilemma]
	\begin{align*}
		U^{AB} = \begin{pmatrix}
			(-7,-7) & (-1,-9) \\
			(-9,-1) & (-3,-3) 
		\end{pmatrix}
	\end{align*}
	Hier ist \glqq gestehen \grqq die dominate Strategie für beide Spieler, denn unabhängig von der Strategie, die der andere wählt, ist das leugnen niemals günstiger als das gestehen. \glqq Ich wähle etwas, das mich unabhängig vom anderen Spieler macht.\grqq 
\end{bsp}

Eine Strategie für alle Spieler A heißt redundat, wenn sie durch eine andere Zeile dominiert wird. 

\begin{bsp}[Stein,Papier,Schere,Brunnen]
	\begin{align*}
		\begin{pmatrix}
			0 & 1 & -1 & -1 \\
			-1 & 0 & 1 & -1 \\
			1 & -1 & 0 & 1 \\
			1 & 1 & -1 & 0
		\end{pmatrix}
	\end{align*}
	Brunnen dominiert den Stein, also lässt Spieler A den Stein weg
	\begin{align*}
		\begin{pmatrix}
			-1 & 0 & 1 & -1 \\
			1 & -1 & 0 & 1 \\
			1 & 1 & -1 & 0
		\end{pmatrix}
	\end{align*}	
	Aus der Sicht von Spieler B ($u_A=-u_B$) dominiert Brunnen den Stein. Daraus folgt: 
	\begin{align*}
		\begin{pmatrix}
			 0 & 1 & -1 \\
			-1 & 0 & 1 \\
			1 & -1 & 0
		\end{pmatrix}
	\end{align*}	
\end{bsp}

\section{Nash-Gleichgewichte}

Betrachte 
\begin{align*}
	U^{AB}= \begin{pmatrix}
		(30,10) & (20,20) & (10,0) \\
		(40,30) & (0,0) & (0,40)
	\end{pmatrix}
	\hat{s}=(a_1,b_2), U^{AB}= (20,20)
\end{align*}
sowohl $a_1$ ist die optimale Antwort auf $b_2$ als auch $b_2$ die optimale Antwort auf $a_1$ ist: $a_1 \in r_A(b_2) $ und $b_2 \in r_B(a_1)$. Vereinbaren beide Spieler $\hat{s}$, dann hat A keinen Grund in eine andere Strategie zu wechseln. Er würde sich dadurch nur verschlechtern (Vorausgesetzt, B hält sich an der Vereinbarung) 

ein Strategiepaar mit dieser Eigenschaft heißt Nash-Gleichgewicht. 

\begin{defi}[Nash-Gleichgewichtspunkt]
	$(\hat{a}, \hat{b})$ ist NGP, falls 
	\begin{align}
		\label{eq:1}
		& \forall b \in S_B : u_B(\hat{a}, \hat{b} ) \geq u_B(\hat{a}, b) \text{ und } \\
		& \forall a \in S_A : u_A(\hat{a}, \hat{b} ) \geq u_B(a, \hat{b}) 
	\end{align}
	Im Falle eines Nullsummenspiels kann man \ref{eq:1} umschreiben zu 
	\begin{align}
		\label{eq:2}
		\forall b \in S_B : u_A(\hat{a}, b) \geq u_A(\hat{a}, \hat{b})
	\end{align} 
\end{defi}

\eqref{eq:1} and \eqref{eq:2} zusammen ergeben 
\begin{align*}
	\forall a \in S_A, b \in S_B: u_A(\hat{a},b) \geq u_A(\hat{a}, \hat{b}) \geq u_A(a, \hat{b})
\end{align*}
daher nennt man dieses Gleichgewicht auch Sattelpunkt. 

\begin{rem}
	\begin{itemize}
		\item Ein Strategiepaar aus dominanten Strategien st offenbar immer ein Gleichgewichtspunkt.
		\item Durch eleiminieren von diminanten Strategien könnnen keine neuen Gleichgewichtspunkte entstehen.  
	\end{itemize}
\end{rem}

Der Wunsch ist, dass jedes Spiel genau einen Gleichgewichtspunkt besitzt. Das ist jedoch nicht der Fall. 

\section{Gemischte Strategien}
Betrachte Nullsummenspiel. 

\textbf{Annahme:} Mehrere Parteien und die Spieler wählen jede ihrer Strategien mit einer W-keit $p_j$ bzw. $q_k$, für $j \in \{1, \dots, m\}, k \in \{1, \dots, n\}$ wobei $p \in \R^m, q \in \R^n$. Diese gewählten W-keiten nennt man gemischte Strategien. Man kann dann die Auszahlung berechnen. 
\begin{align*}
	E(U^*, p, q)= \sum\limits_{k=1}^n (U^A)_{j,k} p_j q_k = p^T U^*q
\end{align*}

Spieler A versucht nun den Wkeits Vektor $p$ so zu wählen, dass der Erwartungsweert maximal wird. Spieler B analog mit $q$. 

Extrema von $E(U^*,\cdot, q)$ leigt entweder auf dem Rand ($p_j=0$ für mind. ein $j$) oder der Gradient wird 0. 
\begin{align*}
	0= U^* q = E(U^*,p,q) \text{ f.a.} p
\end{align*}

\textbf{Interessante Beobachtung:} Wenn $U^*$ nicht invertierbar ist und es $q \geq 0$ oder $p \geq 0$ gibt, s.d. $p^T U^*=0$ od $U^*q=0$, wählt dann der entsprechende Spieler diese Strategie völlig unabhängig. 

\section{Ausblick}
\begin{itemize}
	\item Konzept des Gleichgewichts lässt sich mathematisch gut fassen
	\item Die Wahl der Auswertungsfkt ist sehr wichtig. Das steht auch in Zusammenhang mit derFrage, ob das Modell stimmt. 
\end{itemize}




















